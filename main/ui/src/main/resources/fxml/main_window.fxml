<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<VBox xmlns="http://javafx.com/javafx"
	  xmlns:fx="http://javafx.com/fxml"
	  fx:controller="org.cryptomator.ui.mainwindow.MainWindowController"
	  styleClass="main-window">
	<HBox styleClass="title" fx:id="titleBar" alignment="CENTER" minHeight="50" maxHeight="50" VBox.vgrow="NEVER" spacing="12">
		<padding>
			<Insets bottom="6" left="12" right="12" top="6"/>
		</padding>
		<children>
			<Label text="Cryptomator"/>
			<Region HBox.hgrow="ALWAYS"/>
			<Button contentDisplay="GRAPHIC_ONLY" mnemonicParsing="false" onAction="#showPreferences">
				<graphic>
					<StackPane>
						<FontAwesomeIconView styleClass="fa-icon" glyphName="COGS"/>
						<!-- TODO style: -->
						<Circle visible="${controller.updateAvailable}" StackPane.alignment="TOP_RIGHT" styleClass="update-indicator" fill="red" radius="4"/>
					</StackPane>
				</graphic>
				<tooltip>
					<Tooltip text="%main.settingsBtn.tooltip"/>
				</tooltip>
			</Button>
			<Button contentDisplay="GRAPHIC_ONLY" mnemonicParsing="false" onAction="#close">
				<graphic>
					<FontAwesomeIconView styleClass="fa-icon" glyphName="CLOSE"/>
				</graphic>
				<tooltip>
					<Tooltip text="%main.closeBtn.tooltip"/>
				</tooltip>
			</Button>
		</children>
	</HBox>
	<StackPane VBox.vgrow="ALWAYS">
		<SplitPane dividerPositions="0.33" orientation="HORIZONTAL">
			<fx:include source="/fxml/vault_list.fxml" SplitPane.resizableWithParent="false"/>
			<fx:include source="/fxml/vault_detail.fxml" SplitPane.resizableWithParent="true"/>
		</SplitPane>
		<Region styleClass="resizer" StackPane.alignment="BOTTOM_RIGHT" fx:id="resizer" prefWidth="10" prefHeight="10" maxWidth="-Infinity" maxHeight="-Infinity"/>
	</StackPane>
</VBox>
